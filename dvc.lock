schema: '2.0'
stages:
  data_ingestion:
    cmd: python ./src/data/data_ingestion.py
    deps:
    - path: ./src/data/data_ingestion.py
      hash: md5
      md5: 1ca711504c5018138f152ea01daf3d20
      size: 3505
  extract_features:
    cmd: python ./src/features/extract_features.py
    deps:
    - path: ./src/features/extract_features.py
      hash: md5
      md5: 5cf4bb21e15778887d3b5c6292042ee2
      size: 4682
    params:
      params.yaml:
        extract_features.ewma.alpha: 0.4
        extract_features.mini_batch_kmeans.n_clusters: 30
        extract_features.mini_batch_kmeans.n_init: 10
        extract_features.mini_batch_kmeans.random_state: 42
    outs:
    - path: ./data/processed/resampled_data.csv
      hash: md5
      md5: ed4bab758479a078084a25b4a6d7dd47
      size: 8480304
    - path: ./models/mb_kmeans.joblib
      hash: md5
      md5: f73afb39e82462da2a2d9facef600dee
      size: 143771
    - path: ./models/scaler.joblib
      hash: md5
      md5: b018f036d9481c012637214736b80c05
      size: 999
  feature_processing:
    cmd: python ./src/features/feature_processing.py
    deps:
    - path: ./data/processed/resampled_data.csv
      hash: md5
      md5: ed4bab758479a078084a25b4a6d7dd47
      size: 8480304
    - path: ./src/features/feature_processing.py
      hash: md5
      md5: ef60626845303e3cfc3a8c73c25068f0
      size: 2458
    outs:
    - path: ./data/processed/test.csv
      hash: md5
      md5: 65b5222d774da26b32b3df35332ca1fa
      size: 4989674
    - path: ./data/processed/train.csv
      hash: md5
      md5: 264e992b536f0c2bc78ae737c3bf96c0
      size: 9609288
  train:
    cmd: python ./src/models/train.py
    deps:
    - path: ./data/processed/train.csv
      hash: md5
      md5: 264e992b536f0c2bc78ae737c3bf96c0
      size: 9609288
    - path: ./src/models/train.py
      hash: md5
      md5: fa4b4c3f3c5e300444b80e33c7fb2ace
      size: 2230
    outs:
    - path: ./models/encoder.joblib
      hash: md5
      md5: 81da4a9f9035c4d7c5c7bd46bcf7ee9d
      size: 3605
    - path: ./models/model.joblib
      hash: md5
      md5: 0ad4e7d5f4793b3040537bb3a94261a3
      size: 2345
  evaluate:
    cmd: python ./src/models/evaluate.py
    deps:
    - path: ./data/processed/test.csv
      hash: md5
      md5: 65b5222d774da26b32b3df35332ca1fa
      size: 4989674
    - path: ./data/processed/train.csv
      hash: md5
      md5: 264e992b536f0c2bc78ae737c3bf96c0
      size: 9609288
    - path: ./models/encoder.joblib
      hash: md5
      md5: 81da4a9f9035c4d7c5c7bd46bcf7ee9d
      size: 3605
    - path: ./models/model.joblib
      hash: md5
      md5: 0ad4e7d5f4793b3040537bb3a94261a3
      size: 2345
    - path: ./src/models/evaluate.py
      hash: md5
      md5: a0fcdf2b0e3f8e8125e22f2cb6cbf247
      size: 4319
    outs:
    - path: ./run_information.json
      hash: md5
      md5: 93fbe919f7e81046a183dc578e99cfa2
      size: 175
  register_model:
    cmd: python ./src/models/register_model.py
    deps:
    - path: ./run_information.json
      hash: md5
      md5: 93fbe919f7e81046a183dc578e99cfa2
      size: 175
    - path: ./src/models/register_model.py
      hash: md5
      md5: 66b88a05d08c78c40420ee43d4f90133
      size: 2423
